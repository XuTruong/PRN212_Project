<Window x:Class="WPF.ContractManager"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Quản lý Hợp đồng" Height="600" Width="800" WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="3*" />
            <RowDefinition Height="2*" />
        </Grid.RowDefinitions>

        <!-- Tìm kiếm -->
        <StackPanel Orientation="Horizontal" Margin="0,0,0,301" Grid.Row="0">
            <TextBlock Text="Tìm kiếm:" Height="27" VerticalAlignment="Center" />
            <TextBox x:Name="txtSearch" Width="300" Height="23" TextChanged="txtSearch_TextChanged"/>
        </StackPanel>

        <!-- Bảng hợp đồng -->
        <DataGrid x:Name="dgContracts"
                  Grid.Row="0"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  Margin="-2,42,2,103"
                  SelectionChanged="dgContracts_SelectionChanged">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Phòng" Binding="{Binding RoomName}" Width="0.5*" />
                <DataGridTextColumn Header="Người thuê chính" Binding="{Binding MainTenantName}" Width="2*" />
                <DataGridTextColumn Header="Người ở ghép" Binding="{Binding Roommates}" Width="2*" />
                <DataGridTextColumn Header="Bắt đầu" Binding="{Binding StartDate, StringFormat=d}" Width="*" />
                <DataGridTextColumn Header="Kết thúc" Binding="{Binding EndDate, StringFormat=d}" Width="*" />
                <DataGridTextColumn Header="Tiền cọc" Binding="{Binding Deposit, StringFormat={}{0:N0} ₫}" Width="*" />
                <DataGridTextColumn Header="Ghi chú" Binding="{Binding Note}" Width="2*" />
            </DataGrid.Columns>
        </DataGrid>

        <!-- Chi tiết hợp đồng -->
        <StackPanel Margin="8,240,12,51" Orientation="Vertical" Grid.RowSpan="2">
            <TextBlock Text="Chi tiết hợp đồng" FontWeight="Bold" FontSize="16" Height="27" Margin="0,0,0,10"/>

            <StackPanel Margin="0,10,0,10">
                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Phòng: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtRoomName" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Người thuê chính: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtInfoMainTenant" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Người ở ghép: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtInfoRoomates" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Ngày bắt đầu: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtStartDate" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Ngày kết thúc: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtEndDate" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Tiền cọc: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtDeposit" Width="600"/>
                </StackPanel>

                <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                    <TextBlock Text="Ghi chú: " Width="130" VerticalAlignment="Center"/>
                    <TextBox x:Name="txtNote" Width="600"/>
                </StackPanel>
            </StackPanel>
        </StackPanel>

        <!-- Các nút bên trái -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="5,175,0,11" Width="461">
            <Button Content="Tạo hợp đồng" Width="83" Margin="5" Click="btnCreateContract_Click"/>
            <Button Content="Thêm người ở ghép" Width="113" Margin="5" Click="btnAddRoomates_Click"/>
            <Button Content="Xóa người ở ghép" Width="104" Margin="5" Click="btnRemoveRoomates_Click"/>
            <Button Content="Kết thúc hợp đồng" Width="107" Margin="5" Click="btnEndContract_Click"/>
        </StackPanel>

        <!-- Các nút lọc hợp đồng -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Left" Margin="495,175,0,11" Width="247">
            <Button Content="Đang hiệu lực" Width="83" Margin="5" Click="btnActiveContracts_Click"/>
            <Button Content="Đã kết thúc" Width="76" Margin="5" Click="btnExpiredContracts_Click"/>
            <Button Content="Tất cả" Width="53" Margin="5" Click="btnAllContracts_Click"/>
        </StackPanel>
    </Grid>
</Window>
