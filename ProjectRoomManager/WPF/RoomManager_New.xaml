<Window x:Class="WPF.RoomManager"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="🏠 Quản Lý Phòng - Room Management" 
        Height="750" Width="1200" 
        WindowStartupLocation="CenterScreen"
        Background="White">

    <Window.Resources>
        <!-- Gradients -->
        <LinearGradientBrush x:Key="HeaderGradient" StartPoint="0,0" EndPoint="1,0">
            <GradientStop Color="#667eea" Offset="0"/>
            <GradientStop Color="#764ba2" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="AddButtonGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#43e97b" Offset="0"/>
            <GradientStop Color="#38f9d7" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="EditButtonGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#4facfe" Offset="0"/>
            <GradientStop Color="#00f2fe" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="DeleteButtonGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#f093fb" Offset="0"/>
            <GradientStop Color="#f5576c" Offset="1"/>
        </LinearGradientBrush>
        
        <LinearGradientBrush x:Key="RefreshButtonGradient" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#fa709a" Offset="0"/>
            <GradientStop Color="#fee140" Offset="1"/>
        </LinearGradientBrush>

        <!-- Modern Shadow -->
        <DropShadowEffect x:Key="ModernShadow"
                          Color="Black"
                          BlurRadius="10"
                          ShadowDepth="3"
                          Opacity="0.2"/>

        <!-- Modern Button Style -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Width" Value="120"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Margin" Value="8,0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="20"
                                Padding="15,8"
                                Effect="{StaticResource ModernShadow}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="1.05" ScaleY="1.05"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern TextBox Style -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Height" Value="35"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost" 
                                          Margin="{TemplateBinding Padding}"
                                          VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#667eea"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern ComboBox Style -->
        <Style x:Key="ModernComboBox" TargetType="ComboBox">
            <Setter Property="Height" Value="35"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <Grid>
                                <ToggleButton x:Name="toggleButton"
                                              Grid.Column="2"
                                              Focusable="false"
                                              IsChecked="{Binding Path=IsDropDownOpen,Mode=TwoWay,RelativeSource={RelativeSource TemplatedParent}}"
                                              ClickMode="Press"
                                              Background="Transparent"
                                              BorderThickness="0">
                                    <Path x:Name="Arrow"
                                          Fill="#666"
                                          HorizontalAlignment="Center"
                                          VerticalAlignment="Center"
                                          Data="M 0 0 L 4 4 L 8 0 Z"
                                          Margin="0,0,10,0"/>
                                </ToggleButton>
                                <ContentPresenter x:Name="contentPresenter"
                                                  Margin="{TemplateBinding Padding}"
                                                  VerticalAlignment="Center"
                                                  HorizontalAlignment="Left"
                                                  Content="{TemplateBinding SelectionBoxItem}"
                                                  ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                  ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"
                                                  IsHitTestVisible="false"/>
                                <Popup x:Name="popup"
                                       Placement="Bottom"
                                       IsOpen="{TemplateBinding IsDropDownOpen}"
                                       AllowsTransparency="true"
                                       Focusable="false"
                                       PopupAnimation="Slide">
                                    <Border x:Name="dropDownBorder"
                                            Background="White"
                                            BorderBrush="#E0E0E0"
                                            BorderThickness="1"
                                            CornerRadius="8"
                                            Effect="{StaticResource ModernShadow}">
                                        <ScrollViewer>
                                            <StackPanel IsItemsHost="true"/>
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#667eea"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern DataGrid Style -->
        <Style x:Key="ModernDataGrid" TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="White"/>
            <Setter Property="AlternatingRowBackground" Value="#F8F9FA"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#F0F0F0"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserReorderColumns" Value="False"/>
            <Setter Property="CanUserResizeRows" Value="False"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="FontSize" Value="14"/>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Header Section -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Modern Header -->
        <Border Grid.Row="0" 
                Background="{StaticResource HeaderGradient}" 
                Height="80" 
                CornerRadius="0,0,15,15"
                Effect="{StaticResource ModernShadow}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="🏠 QUẢN LÝ PHÒNG"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="White"
                           HorizontalAlignment="Center"/>
                <TextBlock Text="Thêm, sửa, xóa và quản lý thông tin phòng"
                           FontSize="12"
                           FontStyle="Italic"
                           Foreground="#E8E8E8"
                           HorizontalAlignment="Center"
                           Margin="0,3,0,0"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <Grid Grid.Row="1" Margin="20">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition Width="1*"/>
            </Grid.ColumnDefinitions>

            <!-- Left Panel - Room List -->
            <Border Grid.Column="0" 
                    Background="White" 
                    CornerRadius="15" 
                    Padding="20" 
                    Effect="{StaticResource ModernShadow}">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <!-- Search Section -->
                    <StackPanel Grid.Row="0" Margin="0,0,0,15">
                        <TextBlock Text="🔍 Tìm kiếm phòng" 
                                   FontSize="16" 
                                   FontWeight="SemiBold" 
                                   Foreground="#2C3E50" 
                                   Margin="0,0,0,8"/>
                        <TextBox x:Name="txtSearch" 
                                 Style="{StaticResource ModernTextBox}"
                                 TextChanged="txtSearch_TextChanged"
                                 Tag="Nhập tên phòng để tìm kiếm..."/>
                    </StackPanel>
                    
                    <!-- Room Count Info -->
                    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,15">
                        <TextBlock Text="📊 Tổng số phòng: " 
                                   FontSize="14" 
                                   FontWeight="Medium" 
                                   Foreground="#7F8C8D"/>
                        <TextBlock x:Name="txtRoomCount" 
                                   Text="0" 
                                   FontSize="14" 
                                   FontWeight="Bold" 
                                   Foreground="#E74C3C"/>
                    </StackPanel>

                    <!-- DataGrid -->
                    <DataGrid Grid.Row="2" 
                              x:Name="dgRooms" 
                              Style="{StaticResource ModernDataGrid}"
                              SelectionChanged="dgRooms_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="ID" Binding="{Binding RoomId}" Width="60">
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#667eea"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                            
                            <DataGridTextColumn Header="Tên Phòng" Binding="{Binding RoomName}" Width="*">
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#667eea"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                            
                            <DataGridTextColumn Header="Diện Tích (m²)" Binding="{Binding Area}" Width="120">
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#667eea"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                            
                            <DataGridTextColumn Header="Giá (VNĐ)" Binding="{Binding Price, StringFormat={}{0:N0} ₫}" Width="140">
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#667eea"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                            
                            <DataGridTextColumn Header="Trạng Thái" Binding="{Binding Status}" Width="120">
                                <DataGridTextColumn.HeaderStyle>
                                    <Style TargetType="DataGridColumnHeader">
                                        <Setter Property="Background" Value="#667eea"/>
                                        <Setter Property="Foreground" Value="White"/>
                                        <Setter Property="FontWeight" Value="Bold"/>
                                        <Setter Property="Height" Value="40"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                    </Style>
                                </DataGridTextColumn.HeaderStyle>
                            </DataGridTextColumn>
                        </DataGrid.Columns>
                    </DataGrid>
                </Grid>
            </Border>

            <!-- Right Panel - Room Details -->
            <Border Grid.Column="2" 
                    Background="White" 
                    CornerRadius="15" 
                    Padding="25" 
                    Effect="{StaticResource ModernShadow}">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel>
                        <!-- Title -->
                        <TextBlock Text="📝 THÔNG TIN PHÒNG" 
                                   FontSize="16" 
                                   FontWeight="Bold" 
                                   Foreground="#2C3E50" 
                                   HorizontalAlignment="Center"
                                   Margin="0,0,0,25"/>

                        <!-- Room Name -->
                        <StackPanel Margin="0,0,0,15">
                            <TextBlock Text="🏷️ Tên phòng" 
                                       FontSize="14" 
                                       FontWeight="Medium" 
                                       Foreground="#34495E" 
                                       Margin="0,0,0,5"/>
                            <TextBox x:Name="txtRoomName" 
                                     Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- Area -->
                        <StackPanel Margin="0,0,0,15">
                            <TextBlock Text="📐 Diện tích (m²)" 
                                       FontSize="14" 
                                       FontWeight="Medium" 
                                       Foreground="#34495E" 
                                       Margin="0,0,0,5"/>
                            <TextBox x:Name="txtArea" 
                                     Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- Price -->
                        <StackPanel Margin="0,0,0,15">
                            <TextBlock Text="💰 Giá phòng (VNĐ)" 
                                       FontSize="14" 
                                       FontWeight="Medium" 
                                       Foreground="#34495E" 
                                       Margin="0,0,0,5"/>
                            <TextBox x:Name="txtPrice" 
                                     Style="{StaticResource ModernTextBox}"/>
                        </StackPanel>

                        <!-- Status -->
                        <StackPanel Margin="0,0,0,25">
                            <TextBlock Text="🔄 Trạng thái" 
                                       FontSize="14" 
                                       FontWeight="Medium" 
                                       Foreground="#34495E" 
                                       Margin="0,0,0,5"/>
                            <ComboBox x:Name="cmbStatus" 
                                      Style="{StaticResource ModernComboBox}">
                                <ComboBoxItem Content="Available"/>
                                <ComboBoxItem Content="Occupied"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Room Preview Card -->
                        <Border Background="#F8F9FA" 
                                CornerRadius="10" 
                                Padding="15" 
                                Margin="0,0,0,15">
                            <StackPanel>
                                <TextBlock Text="🔍 Xem trước thông tin" 
                                           FontSize="12" 
                                           FontWeight="Bold" 
                                           Foreground="#7F8C8D" 
                                           Margin="0,0,0,8"/>
                                <TextBlock x:Name="txtPreview" 
                                           Text="Chọn phòng để xem thông tin chi tiết"
                                           FontSize="11" 
                                           Foreground="#95A5A6" 
                                           TextWrapping="Wrap"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>

        <!-- Action Buttons -->
        <Border Grid.Row="2" 
                Background="#F8F9FA" 
                CornerRadius="15,15,0,0" 
                Padding="20,15">
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center">
                <Button Content="➕ THÊM" 
                        Style="{StaticResource ModernButton}"
                        Background="{StaticResource AddButtonGradient}"
                        Click="btnAdd_Click" />
                <Button Content="✏️ SỬA" 
                        Style="{StaticResource ModernButton}"
                        Background="{StaticResource EditButtonGradient}"
                        Click="btnEdit_Click" />
                <Button Content="🗑️ XÓA" 
                        Style="{StaticResource ModernButton}"
                        Background="{StaticResource DeleteButtonGradient}"
                        Click="btnDelete_Click"/>
                <Button Content="🔄 LÀM MỚI" 
                        Style="{StaticResource ModernButton}"
                        Background="{StaticResource RefreshButtonGradient}"
                        Click="btnRefresh_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
